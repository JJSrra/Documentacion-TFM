\chapter{Revisión de la literatura: estado del arte}

En este capítulo se expondrá una revisión de los estudios y propuestas más innovadoras relacionadas con los \textbf{sistemas de recomendación a grupos}, y en particular, de aquellos orientados al ámbito de las películas. Se comenzará haciendo un una breve introducción sobre cuándo y cómo se originaron los sistemas de recomendación y aquellos específicos de recomendación a grupos. Después se tratará su evolución hasta nuestros días, realizando un comentario analítico acerca de lo que han supuesto los sistemas de recomendación y cómo se trasladan actualmente dichos sistemas a situaciones cotidianas, con algunos claros ejemplos que todo el mundo utiliza. Entre ellos se destacarán los que abarcan la \textbf{recomendación de películas}, como tema principal del estudio. Por último, se mencionarán algunos de los sistemas de recomendación de películas a grupos más actuales, eligiendo además el que será tomado como referencia para la experimentación como representante del estado del arte de estos recomendadores.

\section{Análisis de la literatura}

\subsection{Historia de los sistemas de recomendación}

Queda ya muy atrás el primer sistema de recomendación de la historia, que vio la luz en 1992, cuando Goldberg et al. (1992) presentaron su artículo \textit{``Using collaborative filtering to Weave an Information tapestry''} \cite{tapestry-goldberg}. En este trabajo se acuña por primera vez el término \textbf{``filtrado colaborativo''} \cite{filtering-strategies} (en inglés, \textit{collaborative filtering}), refiriéndose así a la técnica que permite filtrar elementos a un usuario basándose en lo que otros usuarios han opinado de él anteriormente. Esta técnica sienta las bases de los sistemas de recomendación, y aún a día de hoy se encuentra presente en la mayoría de ellos. La otra alternativa al filtrado colaborativo es el \textbf{filtrado basado en contenido} \cite{filtering-strategies} (en inglés, \textit{content-based filtering}). Esta técnica no tiene en cuenta las valoraciones que otros usuarios han dado a los elementos del sistema, sino que se limita a comparar los elementos por características y recomendar aquellos similares. En este experimento, sin embargo, se tratarán únicamente métodos que utilizan el filtrado colaborativo.

Una vez se hubo contemplado el vasto rango de opciones que albergaban los sistemas de recomendación, a través de numerosos trabajos y estudios, se contempló la posibilidad de recomendar ya no solo a individuos, sino a grupos de personas. Se trataba de una situación a la que una sociedad podía enfrentarse en multitud de facetas, y que sin duda merecía la pena explorar. La pionera, y una de las más famosas y reconocidas propuestas sobre este tema, fue \textbf{PolyLens} \cite{polylens}. En esta publicación de 2001, O'Connor et al. plantearon \textbf{un sistema de recomendación de películas para grupos}, derivado de la base de datos de valoraciones de películas \textbf{MovieLens}, en la que varios trabajos anteriores se habían fundado. Este sistema abrió la veda de un nuevo subgrupo dentro de la ya amplia categoría de sistemas de recomendación.

Como se ha comentado anteriormente, las recomendaciones a películas han levantado mucho interés desde el primer momento. El contenido de ocio audiovisual, junto a los catálogos de tiendas \textit{online}, son los casos de mayor demanda en cuanto a sistemas de recomendación en la sociedad actual. Plataformas como \textbf{Netflix}, \textbf{Spotify} o \textbf{HBO} son ejemplos de los primeros, que utilizan estos sistemas para tratar de mantener al usuario satisfecho ofreciéndole nuevo contenido que sea similar al que hayan visto. Por su parte, \textbf{Amazon} o \textbf{AliExpress} son ejemplos de los segundos, grandes plataformas que dan cabida a todo tipo de productos y que son capaces de recomendar a sus clientes otros productos similares a los que están buscando. Gracias al sistema de recomendación pertinente, incluso consiguen ofrecer nuevos artículos que detectan que el usuario puede querer comprar, basándose en lo que anteriormente ha buscado o comprado.

Tal fue el impacto de los sistemas de recomendación que la propia plataforma Netflix lanzó en 2006 lo que se conocería como el \textbf{Netflix Prize} \cite{netflix-prize}, una competición de sistemas que, basándose únicamente en el filtrado colaborativo (no conociendo datos adicionales sobre películas ni sobre usuarios, solamente las valoraciones que estos habían dado a cada película) fueran capaces de predecir acertadamente dichas valoraciones. El objetivo principal era superar al por aquel entonces actual sistema de recomendación de Netflix, conocido como \textbf{Cinematch}, ofreciendo un premio de 1 millón de dólares a aquel sistema capaz de superarlo en un 10\%. Adicionalmente, como la competición se estimaba que duraría hasta 2011, se concedería un premio anual de 50.000 dólares al método ganador al final de cada año.

Tras varios tira y afloja entre algunos equipos, e incluso agrupaciones entre equipos para forjar mejores ideas juntos, finalmente en 2009 el equipo \textit{'BellKor's Pragmatic Chaos'} se alzó ganador y recibió el gran premio \cite{netflix-prize-winner}, superando al algoritmo anterior por 10.05\%. De esta forma tan original Netflix cambió su sistema de recomendación promoviendo una iniciativa de investigación en este campo, y por supuesto previendo que este avance en su algoritmo les serviría para incrementar la satisfacción de sus clientes, y por ende, para aumentar su valor de mercado.

\subsection{Recomendación a grupos}

Tras haber sido puestos en el panorama de investigación con casos como el Netflix Prize y el evidente aumento de su uso conforme las nuevas tecnologías se han vuelto más accesibles para la sociedad, los sistemas de recomendación han contemplado un gran abanico de variedades: algunos más enfocados a la materia que recomendar (por ejemplo, sistemas de recomendación de música o de películas), otros enfocados al tipo de usuario (sistemas de recomendación individual o a grupos) e incluso algunos cuyo propósito no es solamente obtener el mejor resultado (sistemas de recomendación explicativos que sirvan de apoyo a una decisión).

Como el objetivo de este trabajo es orientarse en recomendación a películas para grupos de usuarios, la búsqueda en la literatura de algoritmos que apoyasen el estudio se focalizó en estos dos grandes campos, analizando algunas propuestas de la última década. La recomendación a grupos ha avanzado a muchos niveles desde la presentación de PolyLens, y ahora existen varios frentes abiertos en investigación sobre este tema.

Por norma general, los sistemas de recomendación a grupos no requieren trabajar sobre un ámbito determinado; aunque se plantee para un entorno en particular se pueden sustituir los datos por cualquier otro conjunto al que se le pueda aplicar el filtrado colaborativo. Por ello, hay que dejar claro que aunque este estudio se centre en el campo de las películas \textbf{cualquier técnica de las tratadas aquí puede ser utilizada con un conjunto de datos de cualquier ámbito}, de manera genérica.

Una de las primeras fuentes que se recopilaron sobre los sistemas de recomendación a grupos, y que han servido a este estudio para obtener información general sobre los mismos, es el capítulo de Masthoff en el \textit{Recommender Systems Handbook} de 2011 \cite{masthoff-handbook}, donde hace un repaso a los campos de investigación abiertos de los que se hablaba en el párrafo anterior, y realiza un análisis sobre los pasos a seguir en adelante. Masthoff sienta en primer lugar los motivos por los que es necesario contar con sistemas de recomendación a grupos frente a la recomendación individual que ya se había trabajado más de una década. Aporta una detallada recopilación de las estrategias de agregación que utilizaban los sistemas de recomendación a grupos más interesantes de la época, como el ya mencionado PolyLens \cite{polylens}, el sistema MusicFX \cite{musicfx} que determina la emisora de radio que suena de fondo en un gimnasio en función de los gustos de la gente que haya ejercitándose en ese momento, o el sistema Intrigue \cite{intrigue} que ayuda a grupos de turistas a decidir qué visitar, entre otros. A continuación explica cómo se pueden aplicar los algoritmos de recomendación a grupos para usuarios individuales, dando a entender que estos algoritmos son reutilizables dependiendo del contexto en el que se necesiten. Termina planteando una serie de retos a los que los sistemas de recomendación a grupos se enfrentaban en aquel momento: aportar explicaciones a las recomendaciones propuestas, profundizar en el ``problema del inicio frío'' para grupos de usuarios o recomendar ítems en un determinado orden.

En el contexto de las recomendaciones ordenadas podrían englobarse los \textbf{rankings}, que es hacia donde han evolucionado los recomendadores individuales en las principales páginas de Internet. Es habitual no limitarse a recomendar un único ítem a un usuario, lo que propicia que se investigue en recomendar series de elementos dándoles un determinado orden (por supuesto, se quiere colocar en primer lugar aquel que se prediga que va a tener más aceptación).

Una publicación parecida a la de Masthoff en términos de recopilación, pero más reciente, fue la que realizaron Dara et al. en 2019 \cite{survey2019}. En este trabajo, titulado \textit{A survey on group recommender systems}, ofrecen una nueva perspectiva más actual del estado del arte de los sistemas de recomendación a grupos. Una de las distinciones que hace en cuanto a estos recomendadores es acorde al ámbito en el que se desarrollan: películas, música, viajes o programas/cadenas de televisión. De acuerdo al tema de este estudio, tienen más interés aquellos relacionados con las películas. Además del ya conocido PolyLens, que ya era el principal recomendador de películas a grupos cuando Masthoff et al. desarrollaron su estudio, añade otros diez recomendadores más actuales, de la década de los 2010s. Entre ellos, aparecen dos publicaciones de 2017, las más recientes de la lista, y que podrían entrar en el debate del estado del arte de estos sistemas.

Una de ellas es \textbf{OrderedRec}, de Agarwal et al. \cite{orderedrec}, donde plantean solución a uno de los retos que planteaba Masthoff en su publicación de 2011: las recomendaciones ordenadas. Partiendo de un determinado orden de preferencia de cada usuario, introducen la satisfacción del mismo como atributo, que es calculado en función de la diferencia entre sus preferencias y el orden calculado por el recomendador.

La otra es \textbf{Natural Noise Management (NNM)} de Castro et al. \cite{nnm}. En esta publicación se analiza el caso en el que el usuario aporte sus preferencias explícitamente pero puedan encontrarse inconsistencias debido a lo que se conoce como \textbf{ruido natural}. El estudio consiste en tratar de modelar el ruido natural de forma que sea capaz de detectarse sin afectar al rendimiento general del algoritmo de por sí.

Una última aportación que se menciona de 2017 es el caso del recomendador \textbf{HappyMovie} \cite{happymovie2011}. La primera publicación de este sistema es en 2011, cuando Quijano-Sánchez et al. idean una aplicación capaz de recomendar películas a grupos de usuarios en la red social Facebook, En primera instancia, mediante un test de personalidad la aplicación pide a los usuarios que la van a utilizar que valoren una serie de películas, para así obtener información del usuario y solventar en cierta manera el conocido problema del ``inicio frío''. A continuación, a través de los datos de Facebook obtiene la ``confianza'' que tienen unos usuarios con respecto a otros, para detectar cómo influye cada uno en su recomendación particular. Además, utiliza memoria en el tiempo para mejorar las recomendaciones, no recomendar las mismas películas, y sobre todo, introduce el concepto de ``fairness'', para tratar de hacer recomendaciones justas y que todo el mundo esté contento.

Este sistema alcanza una nueva cota en 2017, cuando para el artículo ``\textit{Make it personal: A social explanation system applied to group recommendations}'' \cite{happymovie2017} Quijano-Sánchez et al. añaden una nueva dimensión de \textbf{explicación en las recomendaciones}. Mediante esta mejora, que a primera vista puede resultar menos influyente de lo que realmente es, consiguen darle a los usuarios una sensación de confianza. Un usuario puede necesitar una explicación cuando se le va a recomendar una película que no le va a gustar pero sin embargo es necesaria para el grupo en un determinado momento, bien sea porque dicho usuario ha visto una serie de películas seguidas que le han gustado más que al grupo o por algún otro motivo distinto. También se especifica la posibilidad de que en grupos de más de cuatro miembros solo se dará una explicación detallada sobre la influencia de los tres más cercanos al usuario que pide la explicación, y sobre el resto se hace un resumen. Posibilitar esto mejora la confianza del usuario en el sistema, y por ende, se ve más propenso a depositar sus elecciones futuras en manos del recomendador.

Una vez situados los sistemas de recomendación a grupos en el panorama de investigación, habiendo comprendido su evolución y su progreso en el tiempo y dónde se encuentran ahora mismo, el objetivo del trabajo era encontrar una propuesta actual (a ser posible, de 2019) que hiciera de referencia a batir para el estudio. El principal requisito que se le pedía a dicha propuesta era que representase bien el estado del arte pleanteando una idea innovadora y que resultase intuitiva desde el punto de vista algorítmico. Debido a la naturaleza de las nuevas aportaciones que se plantean en este estudio, que buscan automatizar mediante su algoritmo algunas tomas de decisiones que podrían llevarse a cabo tras consenso pactado entre los propios miembros del grupo, era especialmente interesante encontrar una publicación del estado del arte que aportase esta misma condición.

Buscando propuestas de los dos últimos años para el estudio se encontraron una serie de ellas que, pese a pertenecer al ámbito de las películas, no resultaron adecuadas para el estudio por no contar con el factor anteriormente mencionado de ``algoritmo comprensible''. Presentado en 2019, el método ``\textit{Evolutionary learning approach to multi-agent negotiation for group recommender systems}'' de Choudhary y Bharadwaj \cite{multiagent} plantea una especie de algoritmo genético que trabaja con multiagentes dentro del grupo. Mediante funciones de mutación y cruce se van generando nuevas soluciones que pueden o no mejorar a lo que existía anteriormente, como si de una metaheurística se tratase. En este método en particular, además se incluyen unas técnicas de negociación entre soluciones para llegar a un punto intermedio, lo que al fin y al cabo sería un pseudo-operador de cruce. Dada la necesidad de incluir algoritmos genéticos en el desarrollo de la solución, esta se distancia del perfil que se andaba buscando para el método de referencia del estado del arte. Lo mismo ocurre con la publicación ``\textit{Recommender system with grey wolf optimizer and FCM}'' de Katarya y Verma, que a pesar de ver la luz por primera vez a través de Internet en 2016, fue publicado en la revista \textit{Neural Computing and Applications} en septiembre de 2018 \cite{wolf-recommender}. Este método sigue una estructura similar al de Choudhary y Bharadwaj, pero en lugar de utilizar algoritmos genétics¡os utiliza en su lugar algoritmos bioinspirados. En particular, mediante el \textit{Grey Wolf Algorithm}, uno de los bioinspirados más conocidos, busca ``acorralar'' a través de una serie de iteraciones la mejor solución posible dada la población (miembros del grupo) de la que dispone.

\section{Propuesta del estado del arte escogida}

Después de haber buscado de forma extensiva a lo largo de la historia de los sistemas de recomendación a grupos, y tras haber indagado en las publicaciones de los últimos años en particular, una idea llamaba la atención sobre el resto; habiendo realizado el autor de este trabajo un estudio anterior acerca de las \textbf{metaheurísticas socioinspiradas} (basando su algoritmo en comportamientos propios de la sociedad humana), resultaba interesante plantear por qué no existían apenas soluciones que tratasen de llevar al algoritmo el mismo comportamiento que los propios humanos llevan a cabo a la hora de sus tomas de decisiones. Ya que en general los humanos adaptan sus métodos a lo que comprueban que funciona mejor o peor, se plantea en este estudio un abanico de posibilidades partiendo de este antecedente. Y es por dicha razón que la propuesta del estado del arte escogido debía de tener alguna relación con este tipo de metodología.

Una vez estudiados los algoritmos más recientes, existe uno de ellos que se adapta a este esquema mejor que ningún otro. Publicado en 2018, pero presentado en se trata del método ``\textit{Preference-Oriented Group Recommender System}'' de Choudhary y Bharadwaj \cite{pogrs}. En palabras de los propios autores, ``el principal objetivo de un sistema de recomendación a grupos es identificar las preferencias de cada usuario y encontrar un punto de concesión en el que todos los usuarios se encuentren igualmente de acuerdo''. Este objetivo normalmente supone un reto muy complejo de conseguir, dadas las potenciales preferencias enfrentadas que puedan ocurrir entre los miembros del grupo y que den lugar a puntos intermedios nada satisfactorios para el resto de los usuarios.

Tradicionalmente se ha optado por generar un ``perfil de usuario'' como resultado de la agregación de las distintas preferencias de los usuarios, o bien se han ido agregando recomendaciones hechas a miembros individuales del grupo para comprobar cuál es la más exitosa. En este trabajo, Choudhary y Bharadwaj proponen una solución, el \textbf{recomendador POGRS}, que se acerca más a la primera opción, y que busca obtener un perfil de usuario que simbolizará al grupo y al que se le realizará la recomendación ``individual''. Lo que distingue este caso de otros es que, para este método, el perfil del grupo no es generado mediante agregación de preferencias, sino que es \textbf{un usuario propiamente del grupo}. Este pequeño cambio de concepto acerca más el algoritmo a un prototipo socioinspirado, donde se puede prescindir de tener un sujeto abstracto y simplemente trabajar con los propios usuarios.

Para escoger quién es el usuario que más representa al grupo, el método calcular una nueva variable que denomina ``estatus del usuario'' y que mide el grado de representación de cada uno con respecto al grupo. Para calcularlo, en primer lugar se debe conocer los tres elementos preferidos de cada miembro del grupo, a saber: primero, el más preferido (MP); segundo, el preferido (P); y tercero, el menos preferido (LP). El estatus del usuario consiste en calcular cuántos otros usuarios apoyan su primera elección, su segunda y su tercera. Como es lógico, teniendo más influencia en el resultado final que dos coincidan en el primer elemento a que coincidan en el tercero.

El cálculo final del estatus de un usuario consiste en la sumatoria de los apoyos al primer, segundo y tercer elemento de su lista de preferencias por parte del resto de miembros del grupo. Una vez obtenido el estatus se puede saber qué usuario es el más representativo del grupo y por ende, hacer como recomendación grupal la \textbf{lista de preferencias de dicho usuario}. De cara a interpretarlo como carácter social, podría decirse que este algoritmo se asemeja a una votación popular, en la que los miembros del grupo aportan su lista de elementos preferida y en base a una cierta mayoría a lo largo de dicha lista se decide cuál está más cerca del hipotético perfil agregado de todos los usuarios.